# local.conf for the Demo-System
# Mounted via docker-compose.override.yml as config/local.conf

# Inherits all base settings from evochora.conf (sibling file mounted in same directory)
include "evochora.conf"

pipeline {
  autoStart = false
  #runId = "20260216-21270780-fc077723-3f36-43c7-8746-c7d39bcc383a"
  
  tuning = ${profiles.detailed} # detailed, sampled. sparse
  #tuning.samplingInterval = 1000
  

  database {
    cacheSize = 2097152  # 2 GB
  }

  services {
    simulation-engine {
      options {
        pauseTicks = [1000000]
        seed = 42
        resume {
          #enabled = true
        }

        environment {
          shape = [4800, 2700]
        }
      }
    }

  }  
}

node {
  processes {
    http {
      options {
        network {
          host = "0.0.0.0"
        }
      }
    }
    h2-console {
      options {
        network {
          host = "0.0.0.0"
        }
      }
    }
    h2-tcp-server {
      options {
        tcpAllowOthers = true
      }
    }
  }
}

logging {
  format = "PLAIN"

  levels {
    # Services
    #"org.evochora.datapipeline.services.SimulationEngine" = "DEBUG"
    #"org.evochora.datapipeline.services.PersistenceService" = "DEBUG"
    #"org.evochora.datapipeline.services.MetadataPersistenceService" = "DEBUG"
    #"org.evochora.datapipeline.services.indexers.EnvironmentIndexer" = "DEBUG"
    #"org.evochora.datapipeline.services.indexers.OrganismIndexer" = "DEBUG"
    #"org.evochora.datapipeline.services.indexers.AnalyticsIndexer" = "DEBUG"
    #"org.evochora.datapipeline.services.indexers.MetadataIndexer" = "DEBUG"
    #"org.evochora.datapipeline.services.indexers.AbstractBatchIndexer" = "DEBUG"
    #"org.evochora.datapipeline.services.indexers.AbstractIndexer" = "DEBUG"
    #"org.evochora.datapipeline.services.indexers.components.MetadataReadingComponent" = "DEBUG"
    #"org.evochora.datapipeline.ServiceManager" = "DEBUG"

    # Resources
    #"org.evochora.datapipeline.resources.database.H2Database" = "DEBUG"
    #"org.evochora.datapipeline.resources.storage.FileSystemStorageResource" = "DEBUG"
    #"org.evochora.datapipeline.resources.topics.ArtemisTopicResource" = "DEBUG"
    #"org.evochora.datapipeline.resources.topics.ArtemisTopicReaderDelegate" = "DEBUG"
    #"org.evochora.datapipeline.resources.topics.ArtemisTopicWriterDelegate" = "DEBUG"
    #"org.evochora.datapipeline.resources.queues.ArtemisQueueResource" = "DEBUG"
    #"org.evochora.datapipeline.resources.queues.InMemoryBlockingQueue" = "DEBUG"
    #"org.evochora.datapipeline.resources.idempotency.InMemoryIdempotencyTracker" = "DEBUG"
    #"org.evochora.datapipeline.resources.retry.InMemoryRetryTracker" = "DEBUG"

    # Node processes
    #"org.evochora.node.processes.http.HttpServerProcess" = "DEBUG"
    #"org.evochora.node.processes.http.api.OpenApiController" = "DEBUG"
    #"org.evochora.node.processes.http.api.pipeline.PipelineController" = "DEBUG"
    #"org.evochora.node.processes.http.api.visualizer.EnvironmentController" = "DEBUG"
    #"org.evochora.node.processes.http.api.visualizer.SimulationController" = "DEBUG"
    #"org.evochora.node.processes.http.api.visualizer.OrganismController" = "DEBUG"
    #"org.evochora.node.processes.http.api.analytics.AnalyticsController" = "DEBUG"
    #"org.evochora.node.processes.broker.EmbeddedBrokerProcess" = "DEBUG"
    #"org.evochora.node.processes.h2.H2ConsoleProcess" = "DEBUG"
    #"org.evochora.node.processes.h2.H2TcpServerProcess" = "DEBUG"

    # Runtime (simulation engine internals)
    #"org.evochora.compiler.Compiler" = "DEBUG"
    #"org.evochora.runtime.worldgen.GeneDuplicationPlugin" = "DEBUG"
    #"org.evochora.runtime.worldgen.GeneDeletionPlugin" = "DEBUG"
    #"org.evochora.runtime.worldgen.GeneInsertionPlugin" = "DEBUG"
    #"org.evochora.runtime.worldgen.GeneSubstitutionPlugin" = "DEBUG"
    #"org.evochora.runtime.worldgen.LabelRewritePlugin" = "DEBUG"

    # Artemis (silent by default, programmatic defaults in ArtemisTopicResource)
    #"org.apache.activemq.artemis" = "WARN"
    #"org.apache.activemq.artemis.core.server" = "ERROR"
    #"org.apache.activemq.audit.base" = "INFO"
    #"org.apache.activemq.audit.message" = "INFO"
    #"org.apache.activemq.audit.resource" = "INFO"
  }
}
